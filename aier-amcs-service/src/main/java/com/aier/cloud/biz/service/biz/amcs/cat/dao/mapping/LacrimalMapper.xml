<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aier.cloud.biz.service.biz.amcs.cat.dao.LacrimalMapper">
  <resultMap id="BaseResultMap" type="com.aier.cloud.biz.service.biz.amcs.cat.entity.Lacrimal">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 23 16:34:04 CST 2018.
    --> 
    <id column="ID" jdbcType="DECIMAL" property="id" />
	<result column="CHECK_DATE" jdbcType="TIMESTAMP" property="checkDate" />
	  <result column="PATIENT_ID" jdbcType="DECIMAL" property="patientId" />
	<result column="PATIENT_NAME" jdbcType="VARCHAR" property="patientName" />
	<result column="MOBILE_PHONE" jdbcType="VARCHAR" property="mobilePhone" />
	<result column="CHANNEL" jdbcType="DECIMAL" property="channel" />
	<result column="OD_BACKFLOW" jdbcType="VARCHAR" property="odBackflow" />
	<result column="OD_INTHROAT" jdbcType="VARCHAR" property="odInthroat" />
	<result column="OD_SECRETION" jdbcType="VARCHAR" property="odSecretion" />
	<result column="OS_BACKFLOW" jdbcType="VARCHAR" property="osBackflow" />
	<result column="OS_INTHROAT" jdbcType="VARCHAR" property="osInthroat" />
	<result column="OS_SECRETION" jdbcType="VARCHAR" property="osSecretion" />
	<result column="FST_TREAT_INFO" jdbcType="VARCHAR" property="fstTreatInfo" />
	<result column="FST_DEPT_ID" jdbcType="DECIMAL" property="fstDeptId" />
	<result column="FST_DEPT_NAME" jdbcType="VARCHAR" property="fstDeptName" />
	<result column="FST_DOCTOR_ID" jdbcType="DECIMAL" property="fstDoctorId" />
	<result column="FST_DOCTOR_NAME" jdbcType="VARCHAR" property="fstDoctorName" />
	<result column="GLAUCOMA_DOCTOR_ID" jdbcType="DECIMAL" property="glaucomaDoctorId" />
	<result column="GLAUCOMA_DOCTOR_NAME" jdbcType="VARCHAR" property="glaucomaDoctorName" />
	<result column="GLAUCOMA_RESULT" jdbcType="VARCHAR" property="glaucomaResult" />
	<result column="UNTREAT_REASON" jdbcType="VARCHAR" property="untreatReason" />
	<result column="IS_TREAT" jdbcType="DECIMAL" property="isTreat" />
	<result column="HOSP_ID" jdbcType="DECIMAL" property="hospId" />
	<result column="MODIFER" jdbcType="DECIMAL" property="modifer" />
	<result column="MODIFY_DATE" jdbcType="TIMESTAMP" property="modifyDate" />
  </resultMap>
  <sql id="BaseColumnList">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 23 16:34:04 CST 2018.
    -->
	ID, CHECK_DATE, PATIENT_ID, PATIENT_NAME, MOBILE_PHONE, CHANNEL, OD_BACKFLOW,
	OD_INTHROAT, OD_SECRETION, OS_BACKFLOW, OS_INTHROAT, OS_SECRETION, FST_TREAT_INFO, 	
	FST_DEPT_ID, FST_DEPT_NAME, FST_DOCTOR_ID, FST_DOCTOR_NAME, GLAUCOMA_DOCTOR_ID, GLAUCOMA_DOCTOR_NAME, 	
	GLAUCOMA_RESULT, UNTREAT_REASON, IS_TREAT, HOSP_ID, MODIFER, MODIFY_DATE 	

  </sql>

	<sql id="sql_where">
		<trim prefix="WHERE" prefixOverrides="AND | OR">
			<if test="cond.id != null and cond.id > 0">
				and t.ID = #{cond.id}
			</if>
			<if test="cond.patientId != null and cond.patientId > 0">
				and t.PATIENT_ID = #{cond.patientId}
			</if>
			<if test="cond.hospId != null and cond.hospId > 0">
				and t.HOSP_ID = #{cond.hospId}
			</if>
			<if test="cond.patientName != null and cond.patientName != ''">
				<bind name="PATIENT_NAME" value="'%' + cond.patientName + '%'" />
				and t.PATIENT_NAME like #{PATIENT_NAME}
			</if>
			<if test="cond.patientIds != null and cond.patientIds.size() > 0">
				and t.PATIENT_ID in
				<foreach collection="cond.patientIds" index="index" item="item" open="(" separator="," close=")">
					#{item}
				</foreach>
			</if>
		</trim>
	</sql>

	<select id="getAll" resultMap="BaseResultMap">
		select
		<include refid="BaseColumnList"/>
		from T_AMCS_CAT_LACRIMAL t
		<include refid="sql_where"/>
		order by t.MODIFY_DATE desc
	</select>
</mapper>