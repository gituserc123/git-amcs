<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aier.cloud.biz.service.biz.amcs.adverse.dao.NodeConfigMapper">
  <resultMap id="BaseResultMap" type="com.aier.cloud.biz.service.biz.amcs.adverse.entity.EventConfig">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 23 16:34:04 CST 2018.
    --> 
    <id column="ID" jdbcType="DECIMAL" property="id" />
	<result column="EVENT_TYPE" jdbcType="NVARCHAR" property="eventType" />
	<result column="EVENT_NAME" jdbcType="NVARCHAR" property="eventName" />
	  <result column="EVENT_CODE" jdbcType="NVARCHAR" property="eventCode" />
	  <result column="EVENT_URL" jdbcType="NVARCHAR" property="eventUrl" />
	<result column="NODE_VALUE" jdbcType="DECIMAL" property="nodeValue" />
	<result column="CREATOR" jdbcType="DECIMAL" property="creator" />
	<result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
	<result column="MODIFER" jdbcType="DECIMAL" property="modifer" />
	<result column="MODIFY_DATE" jdbcType="TIMESTAMP" property="modifyDate" />
  </resultMap>
  <sql id="BaseColumnList">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 23 16:34:04 CST 2018.
    -->
	ID, EVENT_TYPE,EVENT_NAME,EVENT_CODE,EVENT_URL, NODE_VALUE, CREATOR, CREATE_DATE,
	MODIFER, MODIFY_DATE 
  </sql>
	<sql id="sql_where">
		<trim prefix="WHERE" prefixOverrides="AND | OR">
			<if test="cond.eventName != null and cond.eventName != ''">
				<bind name="pattern" value="'%' + cond.eventName + '%'" />
				and t.EVENT_NAME like #{pattern}
			</if>
			<!-- 事件分类 -->
			<if test="cond.eventCode != null and cond.eventCode != '' ">
				and t.event_code in
				<foreach item="item" index="index" collection="cond.eventCode.split(',')"
						 open="(" separator="," close=")">#{item}</foreach>
			</if>
		</trim>
	</sql>
	<select id="getAll" resultMap="BaseResultMap">
		select
		<include refid="BaseColumnList"/>
		from T_AE_EVENT_CONFIG t
		<include refid="sql_where"/>
		order by t.EVENT_CODE
	</select>

</mapper>