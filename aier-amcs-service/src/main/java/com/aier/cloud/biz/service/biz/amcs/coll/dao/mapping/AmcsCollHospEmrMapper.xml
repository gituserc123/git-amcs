<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aier.cloud.biz.service.biz.amcs.coll.dao.AmcsCollHospEmrMapper">
  <resultMap id="BaseResultMap" type="com.aier.cloud.biz.service.biz.amcs.coll.entity.AmcsCollHospEmr">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 23 16:34:04 CST 2018.
    --> 
    <id column="ID" jdbcType="DECIMAL" property="id" />
	<result column="HOSP_ID" jdbcType="DECIMAL" property="hospId" />
	<result column="HOSP_NAME" jdbcType="VARCHAR" property="hospName" />
	<result column="GRADE" jdbcType="DECIMAL" property="grade" />
	<result column="GRADE_NAME" jdbcType="VARCHAR" property="gradeName" />
	<result column="IS_APPLY" jdbcType="DECIMAL" property="isApply" />
	<result column="APPLY_GRADE" jdbcType="DECIMAL" property="applyGrade" />
	<result column="APPLY_GRADE_NAME" jdbcType="VARCHAR" property="applyGradeName" />
	<result column="REMARK" jdbcType="VARCHAR" property="remark" />
	<result column="MODIFER" jdbcType="DECIMAL" property="modifer" />
	<result column="MODIFY_DATE" jdbcType="TIMESTAMP" property="modifyDate" />
  </resultMap>
  <sql id="BaseColumnList">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 23 16:34:04 CST 2018.
    -->
	ID, HOSP_ID, HOSP_NAME, GRADE, GRADE_NAME, IS_APPLY, 	
	APPLY_GRADE, APPLY_GRADE_NAME, REMARK, MODIFER, MODIFY_DATE 
  </sql>
  <select id="findList" resultType="Map">
  	select
	<include refid="BaseColumnList" />, to_char(t.modify_date, 'YYYY') as modify_year
	from T_AMCS_COLL_HOSP_EMR t
	<include refid="sql_where" />
	order by t.MODIFY_DATE desc
  </select>
 
  
  <sql id="sql_where">
	<trim prefix="WHERE" prefixOverrides="AND | OR">
		<if test="cond.hospId != null and cond.hospId != '' ">
			and t.hosp_id= #{cond.hospId}
		</if>
	</trim>
  </sql>
</mapper>