<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aier.cloud.biz.service.biz.amcs.adverse.dao.AeEventTagsMapper">
  <resultMap id="BaseResultMap" type="com.aier.cloud.biz.service.biz.amcs.adverse.entity.AeEventTags">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 23 16:34:04 CST 2018.
    --> 
    <id column="ID" jdbcType="DECIMAL" property="id" />
	<result column="USING_SIGN" jdbcType="DECIMAL" property="usingSign" />
	<result column="MODIFY_DATE" jdbcType="TIMESTAMP" property="modifyDate" />
	<result column="MODIFER" jdbcType="DECIMAL" property="modifer" />
	<result column="TAG_CODE" jdbcType="VARCHAR" property="tagCode" />
	<result column="EVENT_ID" jdbcType="DECIMAL" property="eventId" />
  </resultMap>
  <sql id="BaseColumnList">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jan 23 16:34:04 CST 2018.
    -->
	USING_SIGN, MODIFY_DATE, MODIFER, TAG_CODE, EVENT_ID, ID 	

  </sql>
    <sql id="sql_where">
        <trim prefix="WHERE" prefixOverrides="AND | OR">
        	t.using_sign = 1
            <if test="cond.basicIds != null and cond.basicIds.size() > 0">
				and t.event_id in
				<foreach collection="cond.basicIds" index="index" item="item"
					separator="," open="(" close=")">
					#{item}
				</foreach>
			</if>
        </trim>
    </sql>
   
    <select id="findListByCond" resultType="com.aier.cloud.biz.service.biz.amcs.adverse.entity.AeEventTags">
        select
        t.USING_SIGN, t.MODIFY_DATE, t.MODIFER, t.TAG_CODE, t.EVENT_ID, t.ID, t1.VALUE_DESC as TAG_CODE_NAME
        from T_AE_EVENT_TAGS t
        left join T_AE_DICT_TYPE t1 on t.TAG_CODE = t1.VALUE_CODE and t1.TYPE_CODE='tag_type'
        <include refid="sql_where" />
    </select>
</mapper>